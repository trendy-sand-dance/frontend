<!-- views/partials/sidebar-chat.ejs -->


<!-- add sender to whisper display -->

	<h2 class="text-xl text-[--color-secondary] font-bold mb-4">Chat</h2>
	<div id="chat-message-display" class="space-y-2">
		<% if (messages && messages.length > 0) { %>
			<% messages.forEach(function(message) { %>
			<% if (message.type == "personal_chat") { %>
				<div class="bg-[--color-cgya-pink] text-[--color-text] rounded p-2">
					<%= message.message %>
				</div>
				<% } else { %>
				<div class="bg-[--color-secondary] text-[--color-text] rounded p-2">
					<span class="font-bold text-[--color-accent]"><%= message.username %></span>:
					<span class="break-all overflow-wrap-anywhere inline"><%= message.message %></span>
					<span class="block text-xs text-gray-400 text-right"></span>
						<%= new Date(message.timestamp).toLocaleTimeString([], { hour: '2-digit', minute: '2-digit' }) %>
					</span>
				</div>
			<% }}); %>
			<% } %>
	</div>

